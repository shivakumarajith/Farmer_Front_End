<head> </head>
<div>
  <h1 style="margin-left: 430px">Insurance</h1>
</div>
<span> </span>
<div>
  <table class="main">
    <thead>
      <tr>
        <th>Insurance ID</th>
        <th>Insuree Name</th>
        <th>Farmer ID</th>
        <th>Area(in sqft.)</th>
        <th>Crop Name</th>
        <th>Crop Type</th>
        <th>Sum insured</th>
        <th>Estimated amount</th>
        <th>Approved Status</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let i of insurances">
        <td>{{ i?.insuranceId }}</td>
        <td>{{ i?.insureeName }}</td>
        <td>{{ i.farmer?.farmerId }}</td>
        <td>{{ i?.area }}</td>
        <td>{{ i?.cropName }}</td>
        <td>{{ i?.croptype }}</td>
        <td>{{ i?.sumInsured }}</td>
        <td>{{ i?.estimatedamount }}</td>
        <td>{{ i?.approvedstatus }}</td>
      </tr>
    </tbody>
  </table>
</div>
<br />
<button class="approve" (click)="approve()">Approve Insurance</button>
<br />
<br />
<div *ngIf="div1">
  <form (ngSubmit)="approveInsurance()">
    <div
      class="login-box"
      style="
        border-radius: 5%;
        font-family: Georgia, 'Times New Roman', Times, serif;
        box-shadow: black;
      "
    >
      <h1
        style="
          margin-left: 150px;
          font-family: Georgia, 'Times New Roman', Times, serif;
        "
      >
        Approval
      </h1>

      <label for="t1"> Insuree Id:</label>
      <input
        type="number"
        name="t1"
        [(ngModel)]="insurance.insureeId"
        required
        minlength="3"
        #iname="ngModel"
      /><br /><br />
      <label for="t2"> Farmer Id:</label>
      <input
        type="number"
        name="t2"
        [(ngModel)]="insurance.farmerId"
        required
        minlength="3"
        #iname="ngModel"
      /><br /><br />
      <label for="t3"> Insuree Name:</label>
      <input
        type="text"
        name="t3"
        [(ngModel)]="insurance.insureeName"
        required
        minlength="3"
        #iname="ngModel"
      /><br /><br />
      <div
        *ngIf="iname.invalid && (iname.dirty || iname.touched)"
        class="alert"
      >
        <div *ngIf="iname.errors?.required">Insuree Name is Required!</div>

        <div *ngIf="iname.errors?.minlength">
          Insuree Name must be atleast 3 characters long
        </div>
      </div>

      <label for="t4"> Area(in sqft):</label>
      <input
        type="number"
        name="t4"
        [(ngModel)]="insurance.area"
        required
        minlength="3"
        #area="ngModel"
      /><br /><br />
      <div *ngIf="area.invalid && (area.dirty || area.touched)" class="alert">
        <div *ngIf="area.errors?.required">Area is Required!</div>
      </div>

      <label for="t5"> Crop Name:</label>
      <input
        type="text"
        name="t5"
        [(ngModel)]="insurance.cropName"
        required
        minlength="3"
        #cname="ngModel"
      /><br /><br />
      <div
        *ngIf="cname.invalid && (cname.dirty || cname.touched)"
        class="alert"
      >
        <div *ngIf="cname.errors?.required">Crop Name is Required!</div>
      </div>

      <label for="t6"> Crop Type:</label>
      <select
        class="ctype"
        [(ngModel)]="insurance.croptype"
        name="insurance"
        id="insuranceapproval"
      >
        <option value="Kharif">KHARIF</option>
        <option value="Rabi">RABI</option>
        <option value="Horiculture">HORTICULTURE</option>
      </select>
      <br /><br />

      <label for="t7"> Sum Insured:</label>
      <input
        type="number"
        name="t7"
        [(ngModel)]="insurance.sumInsured"
        required
        #quan="ngModel"
      /><br /><br />
      <div *ngIf="quan.invalid && (quan.dirty || quan.touched)" class="alert">
        <div *ngIf="quan.errors?.required">Sum is Required!</div>
      </div>
      <label for="t8"> Estimated amount </label>
      <input
        type="number"
        name="t8"
        [(ngModel)]="insurance.estimatedamount"
        required
        #am="ngModel"
      /><br /><br />
      <div *ngIf="am.invalid && (am.dirty || am.touched)" class="alert">
        <div *ngIf="am.errors?.required">Amount is Required!</div>
      </div>
      <div>
        <label for="t9"> Update Status: </label>
        <input
          type="text"
          name="t9"
          [(ngModel)]="insurance.approvedstatus"
          required
          #am="ngModel"
        /><br /><br />
      </div>

      <button style="margin-left: 170px" class="submit btn" type="submit">
        Submit
      </button>
    </div>
  </form>
</div>
